<app-title title="Paellafestijn"></app-title>
<div>
  Dit jaar eens geen forellen, blijf in uw kot en laat u verwennen met een lekkere Paella aan huis.
  <br>Als alternatief voor ons forellenfestijn organiseren wij op <strong>28 juni</strong> een Paellafestijn!
  <br><br>De paella wordt vers klaargemaakt met lekker gekruide rijst met groenten, gamba, scampi, grote mossel, kip,
  calamares, venus, inktvisjes, chorizo en citroen. Hij wordt hygiënisch verpakt en warm geleverd aan huis of
  geserveerd voor afhaling.
  <br><br>De koude Tapas bevatten tortilla, Spaanse bergham, chorizo, olijven en manchego.
  <br><br>Wij leveren enkel in Groot-Willebroek (postcode 2830).
  <br>Afhalen in het Parochial Centrum van Blaasveld is uiteraard voor iedereen beschikbaar.
  <br>Bij voorkeur betalen via overschrijving voor 24 juni op rekening BE39 7895 8983 7719. Cash betalingen moeten met gepast geld gebeuren.
  <br><br>Hieronder kan je je reservatie online indienen. Op 24 juni sluiten wij de reservaties af.
  <br><br>Uw gegevens worden enkel gebruikt bij de verwerking van uw reservatie.
</div>
<app-title title="Online reserveren"></app-title>
<div *ngIf="success" class="success">
  <app-icon name="check"></app-icon>
  <span>Uw reservatie werd verwerkt. U ontvangt dadelijk een bevestiging op {{ reservationForm.value.email }}.</span>
</div>
<form *ngIf="!success" class="reservation" [formGroup]="reservationForm">
  <section class="info">
    <app-input-field label="Naam *" formControlName="name"></app-input-field>
    <app-input-field label="E-mailadres *" formControlName="email"></app-input-field>
    <app-input-field label="Telefoonnummer *" formControlName="phone"></app-input-field>

    <div class ="checkboxWithLabel">
      <app-input-field label="" type="checkbox" formControlName="takeaway"></app-input-field>
      <label [for]="takeawayId">Haalt af in het PC van Blaasveld</label>
    </div>

    <div class="checkboxWithLabel">
      <app-input-field label="" type="checkbox" formControlName="delivery"></app-input-field>
      <label [for]="deliveryId">Wenst levering aan huis</label>
    </div>

    <section *ngIf="reservationForm.value.takeaway">
      <div class="takeaway period">Afhalen <app-select-list formControlName="takeawayPeriod" [values]="['tussen 12u00 en 13u00', 'tussen 17u30 en 18u30']"></app-select-list></div>
    </section>

    <section *ngIf="reservationForm.value.delivery">
      <app-input-field label="Straat & huisnummer (bus/index) *" formControlName="street"></app-input-field>
      <app-select-list formControlName="city" [values]="['2830 Blaasveld', '2830 Heindonk', '2830 Tisselt', '2830 Willebroek']" id="city"></app-select-list>

      <div class="period">Gewenste levering <app-select-list formControlName="deliveryPeriod" [values]="['tussen 12u00 en 13u00', 'tussen 17u30 en 18u30']"></app-select-list></div>
    </section>

    <app-text-area label="Opmerking" formControlName="remarks"></app-text-area>
  </section>
  <div class="menu">
    <section [formGroup]="reservationForm.get('menu')">
      <strong>Menu</strong>
      <div class="menuItem">
        <div class="label">portie Paella</div>
        <div class="price">15,00€</div>
        <div class="amount"><app-input-field formControlName="paella" type="number"></app-input-field></div>
      </div>
      <div class="menuItem">
        <div class="label">portie Koude Tapas</div>
        <div class="price">6,00€</div>
        <div class="amount"><app-input-field formControlName="tapa" type="number"></app-input-field></div>
      </div>
      <div class="menuItem">
        <div class="label">fles Cava</div>
        <div class="price">12,00€</div>
        <div class="amount"><app-input-field formControlName="cava" type="number"></app-input-field></div>
      </div>
      <div class="menuItem">
        <div class="label">fles Witte wijn</div>
        <div class="price">11,00€</div>
        <div class="amount"><app-input-field formControlName="wine" type="number"></app-input-field></div>
      </div>
    </section>
    <div class="payment">
      <div class ="checkboxWithLabel">
        <app-input-field label="" type="checkbox" formControlName="transfer"></app-input-field>
        <label [for]="transferId">Schrijft <strong>{{ getTotalAmount() }}€</strong> over naar rekening <strong>BE39 7895 8983 7719</strong> met melding "Paella {{reservationForm.value.name}}" <span class="status" (click)="copyBankNr()">({{ copyBankNrStatus }})</span></label>
      </div>
      &nbsp;
      <div class ="checkboxWithLabel">
        <app-input-field label="" type="checkbox" formControlName="cash"></app-input-field>
        <label [for]="cashId">Betaalt <strong>{{ getTotalAmount() }}€</strong> cash (gepast) bij afhaling of levering</label>
      </div>
    </div>
  </div>

  <div *ngIf="showUserError && reservationForm.invalid" class="error">
    <app-icon name="error"></app-icon>
    <span>Het formulier bevat fouten die gecorrigeerd moeten worden.</span>
  </div>

  <div *ngIf="error" class="error">
    <app-icon name="error"></app-icon>
    <span>Uw reservatie kon niet worden verwerkt. Probeer het later opnieuw of contacteer <a href="mailto:fanfaars@gmail.com">fanfaars@gmail.com</a>.</span>
  </div>
  <button type="submit" (click)="sendReservation()" [ngClass]="{ processing: processing }"><app-icon name="plane"></app-icon><span>Reservatie versturen</span></button>
</form>
